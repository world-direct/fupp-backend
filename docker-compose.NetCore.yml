version: '3'

services:
  webapi:
    image: webapi.netcore
    build:
      context: ./WebApi.NetCore
      dockerfile: Dockerfile
    depends_on:
      - lighthouse
    expose:
     - "5000"

  lighthouse:
    image: lighthouse.netcore
    build:
      context: ./Lighthouse.NetCoreApp
      dockerfile: Dockerfile
    tty: true

  testagent:
    image: testagent.netcore
    build:
      context: ./TestAgent
      dockerfile: NetCore.Dockerfile
    tty: true
    depends_on:
      - lighthouse

  testcoordinator:
    image: testcoordinator.netcore
    build:
      context: ./TestCoordinator
      dockerfile: NetCore.Dockerfile
    tty: true
    depends_on:
      - lighthouse

  testreporter:
    image: testreporter.netcore
    build:
      context: ./TestReporter
      dockerfile: NetCore.Dockerfile
    tty: true
    depends_on:
      - lighthouse
