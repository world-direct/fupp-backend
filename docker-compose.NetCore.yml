version: '3'

services:
  webapi:
    image: webapi.netcore
    build:
      context: ./WebApi.NetCore
      dockerfile: Dockerfile
    depends_on:
      - lighthouse
    ports:
     - "5000:5000"

  lighthouse:
    image: lighthouse.netcore
    build:
      context: ./Lighthouse.NetCoreApp
      dockerfile: Dockerfile
    tty: true
    expose:
     - "4053"

  testagent:
    image: testagent.netcore
    build:
      context: ./TestAgent
      dockerfile: NetCore.Dockerfile
    tty: true
    depends_on:
      - lighthouse

  testcoordinator:
    image: testcoordinator.netcore
    build:
      context: ./TestCoordinator
      dockerfile: NetCore.Dockerfile
    tty: true
    depends_on:
      - lighthouse

#  testreporter:
#    image: testreporter.netcore
#    build:
#      context: ./TestReporter
#      dockerfile: NetCore.Dockerfile
#    tty: true
#    depends_on:
#      - lighthouse
